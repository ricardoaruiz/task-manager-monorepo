{
	"name": "@task-manager/backend",
	"version": "0.0.1",
	"private": true,
	"nx": {
		"targets": {
			"build": {
				"executor": "@nx/esbuild:esbuild",
				"outputs": [
					"{options.outputPath}"
				],
				"defaultConfiguration": "production",
				"options": {
					"platform": "node",
					"outputPath": "apps/backend/dist",
					"format": [
						"cjs"
					],
					"bundle": false,
					"main": "apps/backend/src/main.ts",
					"tsConfig": "apps/backend/tsconfig.app.json",
					"assets": [
						"apps/backend/src/assets"
					],
					"esbuildOptions": {
						"sourcemap": true,
						"outExtension": {
							".js": ".js"
						}
					}
				},
				"configurations": {
					"development": {},
					"production": {
						"esbuildOptions": {
							"sourcemap": false,
							"outExtension": {
								".js": ".js"
							}
						}
					}
				}
			},
			"prune-lockfile": {
				"dependsOn": [
					"build"
				],
				"cache": true,
				"executor": "@nx/js:prune-lockfile",
				"outputs": [
					"{workspaceRoot}/apps/backend/dist/package.json",
					"{workspaceRoot}/apps/backend/dist/package-lock.json"
				],
				"options": {
					"buildTarget": "build"
				}
			},
			"copy-workspace-modules": {
				"dependsOn": [
					"build"
				],
				"cache": true,
				"outputs": [
					"{workspaceRoot}/apps/backend/dist/workspace_modules"
				],
				"executor": "@nx/js:copy-workspace-modules",
				"options": {
					"buildTarget": "build"
				}
			},
			"prune": {
				"dependsOn": [
					"prune-lockfile",
					"copy-workspace-modules"
				],
				"executor": "nx:noop"
			},
			"serve": {
				"continuous": true,
				"executor": "@nx/js:node",
				"defaultConfiguration": "development",
				"dependsOn": [
					"build"
				],
				"options": {
					"buildTarget": "@task-manager/backend:build",
					"runBuildTargetDependencies": false
				},
				"configurations": {
					"development": {
						"buildTarget": "@task-manager/backend:build:development"
					},
					"production": {
						"buildTarget": "@task-manager/backend:build:production"
					}
				}
			},
			"db_up": {
				"executor": "nx:run-commands",
				"options": {
					"command": "docker compose up -d",
					"cwd": "apps/backend"
				}
			},
			"db_down": {
				"executor": "nx:run-commands",
				"options": {
					"command": "docker compose down",
					"cwd": "apps/backend"
				}
			},
			"db_generate": {
				"executor": "nx:run-commands",
				"options": {
					"command": "npx drizzle-kit generate",
					"cwd": "apps/backend"
				}
			},
			"db_migrate": {
				"executor": "nx:run-commands",
				"options": {
					"command": "npx drizzle-kit migrate",
					"cwd": "apps/backend"
				}
			},
			"db_seed": {
				"executor": "nx:run-commands",
				"options": {
					"command": "tsx ./src/app/db/seed/seed.ts",
					"cwd": "apps/backend"
				}
			},
			"db_studio": {
				"executor": "nx:run-commands",
				"options": {
					"command": "npx drizzle-kit studio",
					"cwd": "apps/backend"
				}
			}
		}
	},
	"dependencies": {
		"@fastify/autoload": "~6.3.1",
		"@fastify/cookie": "^11.0.2",
		"@fastify/cors": "^11.1.0",
		"@fastify/sensible": "~6.0.3",
		"@fastify/swagger": "^9.6.1",
		"@scalar/fastify-api-reference": "^1.40.0",
		"bcryptjs": "^3.0.3",
		"drizzle-orm": "^0.44.7",
		"fastify": "~5.6.2",
		"fastify-plugin": "~5.1.0",
		"fastify-type-provider-zod": "^6.1.0",
		"http-status-codes": "^2.3.0",
		"jose": "6.1.1",
		"pg": "^8.16.3",
		"uuidv7": "^1.0.2"
	},
	"devDependencies": {
		"@types/pg": "^8.15.6",
		"@types/supertest": "^6.0.3",
		"@vitest/ui": "^4.0.14",
		"drizzle-kit": "^0.31.7",
		"supertest": "^7.1.4"
	}
}
